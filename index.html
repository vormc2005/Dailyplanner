<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="style.css" href="style.css">

    <title>Document</title>
</head>
<body>


    <!-- Create Jumbotron header -->
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
          <h1 class="display-4">Fluid jumbotron</h1>
          <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
        </div>
      </div>

      <!-- Create container with dayly notes -->

    <div class="container" id="calendar"></div>
   
    
<!-- ----------------------------------- -->
      <!-- Javascript and jquery -->
      
    <script type="text/javascript">
        $(document).ready(function () {

            var timearr = ["9AM", "10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM"];
            var inputline; 
            var save;

            var buildCalendar = function(){
                $.each(timearr, function(index,value){
                    // create row
                    var row = $("<div>").addClass("row");

                    // Create columns
                    var timeCol = $("<div>");
                    timeCol.addClass("col-2 timeslot").text(value);

                    var textCol = $("<div>");
                    textCol.addClass("col-8 textarea");
                    var txtarea = $("<textarea>");
                    txtarea.addClass("form-control");
                    txtarea.attr("data-time", value);
                    // TODO: Populate texarea with whatever is in local storage


                    textCol.append(txtarea);

                    var saveCol = $("<div>");
                    saveCol.addClass("col-2 savebtn");
                    var savebtn = $("<button>");
                    savebtn.addClass("btn btn-primary save-item");
                    savebtn.text("Save");
                    savebtn.attr("data-time", value);
                    saveCol.append(savebtn);

                    row.append(timeCol);
                    row.append(textCol);
                    row.append(saveCol);

                    $("#calendar").append(row);
                });
            }

            var saveItem = function(timeSlot){
                // TODO: Get the textarea value for whatever timeslot is being saved

            }

            $("#calendar").on("click", ".save-item", function(e){
                e.preventDefault();
                console.log("save: " + $(this).attr("data-time"));
                saveItem($(this).attr("data-time"));
            });

            // TODO: Grab any data from local storage and assign to global variable

            // Build the calendar
            buildCalendar();
        });

    </script>

</body>
</html>